(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[42],{110:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(89),c=n(112),r=n(0),i=function(t){var e=Object(r.useState)(null),n=Object(a.a)(e,2),i=n[0],s=n[1];return Object(r.useEffect)((function(){var e=t.current,n=new c.a((function(t,e){t.forEach((function(t,e){s(t.contentRect)}))}));return n.observe(e),function(){n.unobserve(e)}}),[t]),i}},273:function(t,e,n){"use strict";n.r(e);var a=n(89),c=n(13),r=n(110),i=n(33),s=n(90),o=n.n(s),l=n(122),u=n(204),f=n(117),m=(n(128),n(259)),d=n(274),h=n(139),b=n(180),v=n(258),g=(n(111),n(54)),j=n(71),O=n(92),p=n.n(O),x=n(0),E=n.n(x),y=n(300),k=15,N=35,w=25,R=25;e.default=E.a.memo((function(t){var e=t.timeseries,n=t.pendency_years,s=t.chartType,O=Object(y.a)().t,p=Object(x.useRef)([]),C=n,M=Object(x.useRef)(),A=Object(r.a)(M),H=Object(x.useState)(),T=Object(a.a)(H,2),S=T[0],Y=T[1];Object(x.useEffect)((function(){Y(C[C.length-1])}),[C]);var B=Object(x.useCallback)((function(){var t=C.length,e=(A||M.current.getBoundingClientRect()).width-N-R;return Math.min(4,e/(1.25*t))}),[C.length,A]);Object(x.useEffect)((function(){var t=C.length,n=A||M.current.getBoundingClientRect(),a=n.width,r=n.height,i=a-N,s=r-w,o=B(),g=Object(m.a)().domain(C).range([R,i]).padding(1),j=function(t){return t.attr("class","x-axis").call(Object(f.a)(g).ticks(5).tickFormat((function(t){return t})))},O=function(t,e){t.attr("class","x-axis2").call(Object(f.a)(g).tickValues([]).tickSize(0)).select(".domain").style("transform","translateY(".concat(e(0),"px)")),e(0)!==s?t.select(".domain").attr("opacity",.4):t.select(".domain").attr("opacity",0)},x=function(t,e){return t.attr("class","y-axis").call(Object(f.b)(e).ticks(4,"0~s").tickPadding(4))};function E(){var t=Object(b.a)(this)[0],e=g.invert(t);Y(e)}function y(){Y(C[t-1])}g.invert=function(t){var e=this.domain(),n=this.range();return Object(d.a)().domain(n).range(e)(t)},p.current.forEach((function(t,n){var a=Object(v.a)(t),r=a.transition().duration(c.a),f=c.l[n],m=Object(h.a)().clamp(!0).domain([1.1*Math.min(0,Object(l.a)(C,(function(t){return e[t]}))),Math.max(1,1.2*Object(u.a)(C,(function(t){return e[t]})))]).nice(4).range([s,k]),d=c.s[f].color;a.select(".x-axis").style("transform","translateY(".concat(s,"px)")).transition(r).call(j),a.select(".x-axis2").transition(r).call(O,m),a.select(".y-axis").style("transform","translateX(".concat(i,"px)")).transition(r).call(x,m),a.selectAll("rect").remove(),a.selectAll("rect").data(C,(function(t){return t})).join((function(t){return t.append("rect").attr("fill",d).attr("stroke",d).attr("y",(function(t){return m(e[t])})).attr("x",(function(t){return g(t)})).attr("width",o/2).attr("height",0)})).transition(r).attr("height",(function(t){return s-m(e[t])})),a.selectAll("*").attr("pointer-events","none"),a.on("mousemove",E).on("touchmove",E).on("mouseout",y).on("touchend",y)}))}),[s,A,B,e,C]),Object(x.useEffect)((function(){var t=B();p.current.forEach((function(e){Object(v.a)(e).selectAll("rect").attr("width",(function(e){return e===S?t:t/2}))}))}),[S,B]);var F=Object(x.useCallback)((function(t){if(S){var n=Object(i.i)(null===e||void 0===e?void 0:e[S],"delta",t);if("total"===s)return n;var a=Object(g.a)(Object(j.a)(Object(i.k)(S),1),{representation:"date"});return n-Object(i.i)(null===e||void 0===e?void 0:e[a],"delta",t)}}),[e,S,s]),J=Object(x.useMemo)((function(){var t=[];return[0,0,0,0,0].map((function(e,n){return t.push({animationDelay:"".concat(250*n,"ms")}),null})),t}),[]);return E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"Timeseries"},c.l.map((function(t,n){F(t,n);var a=c.s[t];return E.a.createElement("div",{key:t,className:o()("svg-parent fadeInUp","is-".concat(t)),ref:M,style:(J[n],{marginRight:"2%"})},S&&E.a.createElement("div",{className:o()("stats","is-".concat(t))},E.a.createElement("h5",{className:"title"},O(Object(i.a)(a.ts_displayName))),E.a.createElement("h5",{className:"title"},S),E.a.createElement("div",{className:"stats-bottom"},E.a.createElement("h2",null,Object(i.e)(e[S],"short"!==a.format?a.format:"int",t)))),E.a.createElement("svg",{ref:function(t){p.current[n]=t},preserveAspectRatio:"xMidYMid meet"},E.a.createElement("g",{className:"x-axis"}),"// ",E.a.createElement("g",{className:"x-axis2"}),E.a.createElement("g",{className:"y-axis"})))}))))}),(function(t,e){return!!p()(e.chartType,t.chartType)&&(!!p()(e.regionHighlighted.stateCode,t.regionHighlighted.stateCode)&&(!!p()(e.regionHighlighted.districtName,t.regionHighlighted.districtName)&&!!p()(e.dates,t.dates)))}))}}]);
//# sourceMappingURL=42.9bb357e1.chunk.js.map